<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head data-th-replace="messengerMenu :: newhead"></head>
<body>
<nav data-th-replace="messengerMenu :: newmenu"></nav>

<div class="container">
    <h1>Beszélgetés</h1>
    <table>
        <tr>
            <td>Küldő:</td>
            <td data-th-text="${conversation.convStarter}"></td>
        </tr>

    </table>
    <h1>Beszélgetés:</h1>
    <div data-th-if="${conversation.conversationMessages.empty}">
        Nincsenek üzenetek!
    </div>
    <table data-th-if="${!conversation.conversationMessages.empty}" class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>Id</th>
            <th>Üzenet</th>
            <th>Küldő</th>
            <th>Dátum</th>
        </tr>
        </thead>
        <tr data-th-each="message: ${conversation.conversationMessages}">
            <td data-th-text="${message.text}"></td>
            <td data-th-text="${message.author}"></td>
            <td data-th-text="${{message.creationDate}}"></td>
        </tr>
    </table>

    <h1>Új üzenets</h1>
    <form data-th-action="@{/createconversationmessage}" method="POST" data-th-object="${conversationMessage}">
        <div class="form-group" data-th-object="${conversation}">
            <label for="text">Új üzenet: </label>
            <textarea data-th-field="*{text}" id="text" class="form-control" placeholder="Üzenet"></textarea>


        </div>

        <button type="submit" class="btn btn-primary">Beküld</button>
    </form>

</div>
</body>
</html>